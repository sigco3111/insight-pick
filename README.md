
# 인사이트픽 (InsightPick)

**인사이트픽(InsightPick)**은 경제 지표와 시장 동향을 분석하여 독특한 방식으로 주식을 추천하는 웹 애플리케이션입니다. 개인 투자자(초보부터 전문가까지)가 재정 목표와 위험 허용 범위에 따라 AI가 생성한 포트폴리오 제안을 바탕으로 데이터 기반 투자 결정을 내릴 수 있도록 돕는 것을 목표로 합니다.

## 핵심 기능

*   **AI 기반 포트폴리오 추천:** Google의 Gemini AI를 활용하여 개인화된 주식 포트폴리오를 생성합니다.
*   **사용자 중심 맞춤 설정:** 사용자의 투자 목표(예: 장기 성장, 배당금 수익)와 위험 선호도(낮음, 중간, 높음)를 입력으로 받습니다.
*   **API 키 관리:** 사용자가 애플리케이션 헤더의 UI를 통해 직접 Gemini API 키를 입력하고 로컬 스토리지에 저장할 수 있습니다. 환경 변수를 통해 초기 기본 키를 설정할 수도 있습니다.
*   **데이터 기반 근거 제시:** 각 주식 추천에 대한 명확한 설명을 제공하며, 현재 경제 지표, 시장 동향 및 관련 뉴스(최신 정보 반영을 위해 Google Search 그라운딩 활용)를 참조합니다.
*   **시장 인사이트:** 주요 경제 지표(모의 데이터) 및 관련 시장 뉴스(AI 생성 데이터, API 키 필요)를 표시합니다.
*   **변동성 알림:** 시장 변동성 알림을 위한 (모의) 기능을 포함합니다.
*   **정보 출처:** AI가 추천 근거로 사용한 Google Search의 URL 목록을 제공합니다.
*   **종목 상세 분석 및 AI 채팅:** 특정 종목에 대한 심층 AI 분석, 관련 뉴스, 재무 지표를 조회하고, 해당 종목에 대해 AI와 채팅할 수 있는 기능을 제공합니다 (API 키 필요).

## 기술 스택

*   **프론트엔드:** React 18+ (TypeScript 사용)
*   **스타일링:** Tailwind CSS (CDN 통해 사용)
*   **AI:** Google Gemini API (`@google/genai`) (Google Search 그라운딩 사용)
*   **차트:** Recharts
*   **아이콘:** Lucide React

## 사전 요구 사항

*   Node.js (v18 이상 권장)
*   npm 또는 yarn
*   Google Gemini API 키 (선택 사항: 애플리케이션 내에서 직접 입력 가능)

## 설정 및 로컬 실행 방법

1.  **리포지토리 복제 (또는 제공된 파일 압축 해제):**
    ```bash
    # 파일이 이미 있다면 2단계로 건너뛰세요.
    git clone <repository_url>
    cd insightpick
    ```

2.  **의존성 설치:**
    ```bash
    npm install
    # 또는
    yarn install
    ```

3.  **API 키 설정:**
    Gemini API 키는 다음 두 가지 방법 중 하나 또는 둘 다를 사용하여 설정할 수 있습니다:
    *   **애플리케이션 UI를 통해 직접 입력 (권장):**
        *   애플리케이션을 실행한 후, 헤더 영역에 있는 열쇠 모양 아이콘(API 키 설정)을 클릭합니다.
        *   표시되는 입력 필드에 Gemini API 키를 입력하고 "저장" 버튼을 클릭합니다. 이 키는 브라우저의 로컬 스토리지에 저장됩니다.
    *   **(선택적) 쉘 환경 변수를 통한 초기 기본 키 설정:**
        *   애플리케이션은 `API_KEY`라는 이름의 환경 변수로부터 Gemini API 키를 읽어올 수 있습니다. 이 키는 코드 내에서 `process.env.API_KEY`를 통해 사용됩니다.
        *   이 환경 변수는 시스템 전체에 설정하거나, 개발 서버 실행 시 다음과 같이 직접 전달할 수 있습니다:
            ```bash
            API_KEY="YOUR_GEMINI_API_KEY" npm run dev
            ```
            또는 Unix-like 시스템의 경우, 먼저 `API_KEY`를 export 한 후 서버를 실행합니다:
            ```bash
            export API_KEY="YOUR_GEMINI_API_KEY"
            npm run dev
            ```
        *   `vite.config.ts` 파일은 Vite 실행 환경의 `process.env` 객체를 클라이언트 측 코드의 `process.env`로 전달하도록 설정되어 있어 이 방식이 작동합니다 (`define: { 'process.env': process.env }`).
        *   UI를 통해 로컬 스토리지에 저장된 키가 없을 경우, 이렇게 설정된 환경 변수 키가 기본값으로 사용될 수 있습니다. UI를 통해 저장된 키가 항상 우선시됩니다.
        *   *참고: `.env` 파일을 사용하여 `API_KEY` (접두사 없음)를 설정하는 것은 현재 `vite.config.ts` 설정만으로는 클라이언트 측 `process.env.API_KEY`로 직접 연결되지 않을 수 있습니다. Vite는 기본적으로 `VITE_` 접두사가 붙은 변수만 `.env` 파일에서 `import.meta.env` 객체로 로드합니다. 가장 확실한 방법은 위에서 설명한 대로 쉘에서 `API_KEY`를 직접 설정하거나, `vite.config.ts`를 수정하여 `.env` 파일의 특정 변수 (예: `VITE_API_KEY`로 저장된 키)를 `process.env.API_KEY`로 명시적으로 매핑하는 것입니다.*

4.  **개발 서버 실행:**
    ```bash
    npm run dev
    # 또는
    yarn dev
    ```
    일반적으로 `http://localhost:5173`에서 애플리케이션이 시작됩니다.

5.  **브라우저 열기:**
    Vite에서 제공하는 로컬 URL로 접속하여 애플리케이션을 사용합니다. API 키가 설정되지 않은 경우, AI 기반 기능은 제한될 수 있으며, 헤더를 통해 키를 입력하라는 안내가 표시됩니다.

## 작동 방식

1.  **API 키 확인/입력:** 애플리케이션은 먼저 유효한 Gemini API 키가 있는지 확인합니다. 없는 경우 사용자는 UI를 통해 키를 입력할 수 있습니다.
2.  **사용자 입력:** 사용자는 간단한 양식을 통해 투자 목표와 위험 선호도를 지정합니다.
3.  **AI 분석 (API 키가 유효할 경우):**
    *   애플리케이션은 이 프로필을 Gemini API로 전송합니다.
    *   Google Search를 사용하도록 구성된 Gemini 모델은 현재 경제 데이터, 시장 동향 및 뉴스를 가져옵니다.
    *   그런 다음 각 항목에 대한 근거와 전체 포트폴리오 요약을 포함하여 3-5개 주식 추천으로 구성된 다각화된 포트폴리오를 생성합니다.
4.  **결과 표시:**
    *   추천 주식, 근거 및 요약이 사용자에게 표시됩니다.
    *   AI가 도출한 주요 인사이트 및 Google Search의 출처 URL과 같은 지원 정보도 표시됩니다.
    *   모의 경제 지표, (API 키가 유효할 경우) AI가 생성한 시장 뉴스 및 변동성 알림은 추가적인 맥락을 제공합니다.
    *   사용자는 개별 주식을 선택하여 더 상세한 AI 분석, 관련 뉴스, 재무 지표를 보고 AI와 채팅할 수 있습니다 (API 키 필요).

## 중요 참고 사항

*   **API 키:** 유효한 Gemini API 키가 설정되어야 AI 기반 기능(포트폴리오 추천, 뉴스 분석, 상세 분석, AI 채팅 등)이 올바르게 작동합니다.
*   **모의 데이터:** 상세 경제 지표, 실시간 변동성 알림과 같은 일부 기능은 현재 이 프로토타입에서 모의 데이터로 제공됩니다. 그러나 AI 추천 및 분석은 (API 키가 제공된 경우) Google Search를 통해 액세스하는 실시간 정보를 기반으로 합니다.
*   **면책 조항:** 이 애플리케이션은 프로토타입이며 교육 및 설명 목적으로만 정보를 제공합니다. 이는 재정 자문이 **아닙니다**. 투자 결정을 내리기 전에 항상 자격을 갖춘 재정 자문가와 상담하세요.
